
    <!DOCTYPE html>
    <html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Sistema de Comandas Online - Documenta√ß√£o Completa</title>
        <style>
            @media print {
                @page {
                    size: A4;
                    margin: 2cm;
                }
                
                body {
                    font-size: 12pt;
                    line-height: 1.4;
                }
                
                h1 { font-size: 18pt; }
                h2 { font-size: 16pt; }
                h3 { font-size: 14pt; }
                h4 { font-size: 13pt; }
                
                pre, code {
                    font-size: 10pt;
                    white-space: pre-wrap;
                    word-wrap: break-word;
                }
                
                .page-break {
                    page-break-before: always;
                }
                
                .no-break {
                    page-break-inside: avoid;
                }
            }
            
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: #333;
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
                background-color: #fff;
            }
            
            .header {
                text-align: center;
                border-bottom: 3px solid #3498db;
                padding-bottom: 20px;
                margin-bottom: 30px;
            }
            
            .header h1 {
                color: #2c3e50;
                margin: 0;
                font-size: 2.5em;
            }
            
            .header .subtitle {
                color: #7f8c8d;
                font-size: 1.2em;
                margin-top: 10px;
            }
            
            .header .meta {
                color: #95a5a6;
                font-size: 0.9em;
                margin-top: 10px;
            }
            
            h1 {
                color: #2c3e50;
                border-bottom: 3px solid #3498db;
                padding-bottom: 10px;
                margin-top: 40px;
                margin-bottom: 20px;
            }
            
            h2 {
                color: #34495e;
                border-bottom: 2px solid #bdc3c7;
                padding-bottom: 5px;
                margin-top: 30px;
                margin-bottom: 15px;
            }
            
            h3 {
                color: #2c3e50;
                margin-top: 25px;
                margin-bottom: 10px;
            }
            
            h4, h5, h6 {
                color: #34495e;
                margin-top: 20px;
                margin-bottom: 10px;
            }
            
            code {
                background-color: #f8f9fa;
                padding: 2px 4px;
                border-radius: 3px;
                font-family: 'Courier New', monospace;
                font-size: 0.9em;
                color: #e74c3c;
            }
            
            pre {
                background-color: #f8f9fa;
                border: 1px solid #e9ecef;
                border-radius: 5px;
                padding: 15px;
                overflow-x: auto;
                margin: 15px 0;
            }
            
            pre code {
                background-color: transparent;
                padding: 0;
                color: #333;
            }
            
            blockquote {
                border-left: 4px solid #3498db;
                margin: 20px 0;
                padding-left: 20px;
                color: #666;
                font-style: italic;
            }
            
            table {
                border-collapse: collapse;
                width: 100%;
                margin: 20px 0;
                font-size: 0.9em;
            }
            
            th, td {
                border: 1px solid #ddd;
                padding: 8px 12px;
                text-align: left;
            }
            
            th {
                background-color: #f8f9fa;
                font-weight: bold;
                color: #2c3e50;
            }
            
            tr:nth-child(even) {
                background-color: #f9f9f9;
            }
            
            ul, ol {
                padding-left: 20px;
            }
            
            li {
                margin-bottom: 5px;
            }
            
            a {
                color: #3498db;
                text-decoration: none;
            }
            
            a:hover {
                text-decoration: underline;
            }
            
            .toc {
                background-color: #f8f9fa;
                border: 1px solid #e9ecef;
                border-radius: 5px;
                padding: 20px;
                margin: 20px 0;
            }
            
            .toc h2 {
                margin-top: 0;
                border-bottom: none;
            }
            
            .toc ul {
                list-style-type: none;
                padding-left: 0;
            }
            
            .toc li {
                margin-bottom: 8px;
            }
            
            .toc a {
                color: #2c3e50;
                text-decoration: none;
            }
            
            .toc a:hover {
                color: #3498db;
            }
            
            .emoji {
                font-size: 1.2em;
            }
            
            .highlight {
                background-color: #fff3cd;
                border: 1px solid #ffeaa7;
                border-radius: 3px;
                padding: 10px;
                margin: 10px 0;
            }
            
            .success {
                background-color: #d4edda;
                border: 1px solid #c3e6cb;
                border-radius: 3px;
                padding: 10px;
                margin: 10px 0;
                color: #155724;
            }
            
            .warning {
                background-color: #fff3cd;
                border: 1px solid #ffeaa7;
                border-radius: 3px;
                padding: 10px;
                margin: 10px 0;
                color: #856404;
            }
            
            .info {
                background-color: #d1ecf1;
                border: 1px solid #bee5eb;
                border-radius: 3px;
                padding: 10px;
                margin: 10px 0;
                color: #0c5460;
            }
            
            .page-break {
                page-break-before: always;
            }
            
            .no-break {
                page-break-inside: avoid;
            }
            
            .footer {
                text-align: center;
                margin-top: 50px;
                padding-top: 20px;
                border-top: 1px solid #e9ecef;
                color: #95a5a6;
                font-size: 0.9em;
            }
            
            @media screen {
                body {
                    font-size: 14px;
                }
                
                pre {
                    max-width: 100%;
                    overflow-x: auto;
                }
            }
        </style>
    </head>
    <body>
        <div class="header">
            <h1>üìö Sistema de Comandas Online</h1>
            <div class="subtitle">Documenta√ß√£o Completa</div>
            <div class="meta">
                <strong>Autor:</strong> Pedro Augusto Carvalho<br>
                <strong>Vers√£o:</strong> 1.0.0<br>
                <strong>Data:</strong> 07/08/2025<br>
                <strong>Projeto:</strong> TCC - Sistema de Comandas Online
            </div>
        </div>
        
        <div class="content">
            <h1 id="sistema-de-comandas-online">üìö Sistema de Comandas Online</h1>

<h2 id="documentacao-completa">Documenta√ß√£o Completa</h2>

<hr />

<p><strong>Autor:</strong> Pedro Augusto Carvalho<br />
<strong>Vers√£o:</strong> 1.0.0<br />
<strong>Data:</strong> 27/07/2024<br />
<strong>Projeto:</strong> TCC - Sistema de Comandas Online  </p>

<hr />

<h1 id="sumario">üìã Sum√°rio</h1>

<ol>
<li><a href="#introdu√ß√£o">Introdu√ß√£o</a></li>
<li><a href="#vis√£o-geral-do-sistema">Vis√£o Geral do Sistema</a></li>
<li><a href="#arquitetura-e-tecnologias">Arquitetura e Tecnologias</a></li>
<li><a href="#instala√ß√£o-e-configura√ß√£o">Instala√ß√£o e Configura√ß√£o</a></li>
<li><a href="#estrutura-do-projeto">Estrutura do Projeto</a></li>
<li><a href="#api-documentation">API Documentation</a></li>
<li><a href="#fluxo-de-funcionamento">Fluxo de Funcionamento</a></li>
<li><a href="#funcionalidades">Funcionalidades</a></li>
<li><a href="#testes-automatizados">Testes Automatizados</a></li>
<li><a href="#deploy-e-manuten√ß√£o">Deploy e Manuten√ß√£o</a></li>
<li><a href="#documenta√ß√£o-t√©cnica">Documenta√ß√£o T√©cnica</a></li>
<li><a href="#faq-e-suporte">FAQ e Suporte</a></li>
<li><a href="#anexos">Anexos</a></li>
</ol>

<hr />

<h1 id="introducao">üéØ Introdu√ß√£o</h1>

<h2 id="sobre-o-projeto">Sobre o Projeto</h2>

<p>O <strong>Sistema de Comandas Online</strong> √© uma PWA (Progressive Web App) desenvolvida para estabelecimentos gastron√¥micos, permitindo o gerenciamento completo de pedidos, mesas, clientes e pagamentos.</p>

<h3 id="objetivos-principais">Objetivos Principais</h3>

<ul>
<li><strong>Automatizar</strong> o processo de pedidos em restaurantes</li>
<li><strong>Melhorar</strong> a experi√™ncia do cliente</li>
<li><strong>Otimizar</strong> o fluxo de trabalho dos funcion√°rios</li>
<li><strong>Fornecer</strong> relat√≥rios e an√°lises de vendas</li>
<li><strong>Garantir</strong> rastreabilidade completa dos pedidos</li>
</ul>

<h3 id="publico-alvo">P√∫blico-Alvo</h3>

<ul>
<li><strong>Restaurantes</strong> e estabelecimentos gastron√¥micos</li>
<li><strong>Bares</strong> e lanchonetes</li>
<li><strong>Food trucks</strong> e eventos</li>
<li><strong>Cafeterias</strong> e docerias</li>
</ul>

<hr />

<h1 id="visao-geral-do-sistema">üèóÔ∏è Vis√£o Geral do Sistema</h1>

<h2 id="conceito">Conceito</h2>

<p>O sistema √© uma aplica√ß√£o web progressiva (PWA) que permite aos clientes fazerem pedidos diretamente de suas mesas atrav√©s de dispositivos m√≥veis, enquanto fornece aos estabelecimentos uma ferramenta completa de gest√£o.</p>

<h2 id="caracteristicas-principais">Caracter√≠sticas Principais</h2>

<ul>
<li><strong>Interface Responsiva</strong>: Funciona em mobile e desktop</li>
<li><strong>PWA</strong>: Pode ser instalado como aplicativo</li>
<li><strong>Tempo Real</strong>: Atualiza√ß√µes via WebSocket</li>
<li><strong>Offline</strong>: Funcionalidades b√°sicas sem internet</li>
<li><strong>Multiplataforma</strong>: Acess√≠vel via navegador</li>
</ul>

<hr />

<h1 id="arquitetura-e-tecnologias">üõ†Ô∏è Arquitetura e Tecnologias</h1>

<h2 id="diagrama-de-arquitetura">Diagrama de Arquitetura</h2>

<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ    ‚îÇ    Backend      ‚îÇ    ‚îÇ   Database      ‚îÇ
‚îÇ   (React PWA)   ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (Flask API)   ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (SQLite)      ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ Interface     ‚îÇ    ‚îÇ ‚Ä¢ REST API      ‚îÇ    ‚îÇ ‚Ä¢ Clientes      ‚îÇ
‚îÇ ‚Ä¢ Navega√ß√£o     ‚îÇ    ‚îÇ ‚Ä¢ WebSocket     ‚îÇ    ‚îÇ ‚Ä¢ Pedidos       ‚îÇ
‚îÇ ‚Ä¢ PWA Features  ‚îÇ    ‚îÇ ‚Ä¢ Swagger Docs  ‚îÇ    ‚îÇ ‚Ä¢ Itens         ‚îÇ
‚îÇ ‚Ä¢ Responsive    ‚îÇ    ‚îÇ ‚Ä¢ CORS          ‚îÇ    ‚îÇ ‚Ä¢ Pagamentos    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>

<h2 id="stack-tecnologica">Stack Tecnol√≥gica</h2>

<h3 id="frontend">Frontend</h3>

<ul>
<li><strong>React 18</strong> - Framework JavaScript</li>
<li><strong>Vite</strong> - Build tool e dev server</li>
<li><strong>Tailwind CSS</strong> - Framework CSS</li>
<li><strong>React Router</strong> - Roteamento</li>
<li><strong>Socket.io Client</strong> - Comunica√ß√£o em tempo real</li>
</ul>

<h3 id="backend">Backend</h3>

<ul>
<li><strong>Python 3.9+</strong> - Linguagem principal</li>
<li><strong>Flask</strong> - Framework web</li>
<li><strong>SQLAlchemy</strong> - ORM</li>
<li><strong>SQLite</strong> - Banco de dados</li>
<li><strong>Flasgger</strong> - Documenta√ß√£o Swagger</li>
<li><strong>Flask-SocketIO</strong> - WebSocket</li>
</ul>

<h3 id="ferramentas-de-desenvolvimento">Ferramentas de Desenvolvimento</h3>

<ul>
<li><strong>Git</strong> - Controle de vers√£o</li>
<li><strong>GitHub</strong> - Reposit√≥rio remoto</li>
<li><strong>Pytest</strong> - Testes automatizados</li>
<li><strong>Cypress</strong> - Testes E2E</li>
<li><strong>Jest</strong> - Testes unit√°rios</li>
</ul>

<hr />

<h1 id="instalacao-e-configuracao">‚öôÔ∏è Instala√ß√£o e Configura√ß√£o</h1>

<h2 id="pre-requisitos">Pr√©-requisitos</h2>

<pre><code># Verificar vers√µes
python3 --version  # 3.9+
node --version     # 16+
npm --version      # 8+
</code></pre>

<h2 id="instalacao-rapida">Instala√ß√£o R√°pida</h2>

<pre><code># 1. Clone o reposit√≥rio
git clone https://github.com/PedroACarvalho/PWA-para-c-lculo-e-pagamento-de-comandas.git
cd "PWA para c√°lculo e pagamento de comandas"

# 2. Backend
cd backend
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt

# 3. Frontend
cd ..
npm install

# 4. Iniciar
python3 backend/app.py  # Terminal 1
npm run dev            # Terminal 2
</code></pre>

<h2 id="configuracao-detalhada">Configura√ß√£o Detalhada</h2>

<h3 id="backend-2">Backend</h3>

<pre><code># Criar ambiente virtual
python3 -m venv venv
source venv/bin/activate

# Instalar depend√™ncias
pip install -r requirements.txt

# Configurar vari√°veis de ambiente (opcional)
export FLASK_ENV=development
export FLASK_DEBUG=1

# Inicializar banco de dados
python3 init_db_script.py
</code></pre>

<h3 id="frontend-2">Frontend</h3>

<pre><code># Instalar depend√™ncias
npm install

# Configurar vari√°veis de ambiente (opcional)
echo "VITE_API_URL=http://localhost:5001" &gt; .env

# Verificar instala√ß√£o
npm run build
</code></pre>

<hr />

<h1 id="estrutura-do-projeto">üìÅ Estrutura do Projeto</h1>

<pre><code>PWA para c√°lculo e pagamento de comandas/
‚îú‚îÄ‚îÄ üìÅ backend/                    # Backend Python/Flask
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ models/                 # Modelos do banco
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cliente.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ item.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mesa.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pagamento.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pedido.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pedido_item.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ routes/                 # Rotas da API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ menu.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ payment.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tables.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ tests/                  # Testes automatizados
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test_auth.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test_menu.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test_orders.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test_tables.py
‚îÇ   ‚îú‚îÄ‚îÄ app.py                     # Aplica√ß√£o principal
‚îÇ   ‚îú‚îÄ‚îÄ database.py                # Configura√ß√£o DB
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt           # Depend√™ncias Python
‚îú‚îÄ‚îÄ üìÅ src/                        # Frontend React
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ components/             # Componentes reutiliz√°veis
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sidebar.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/                    # Componentes UI
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ pages/                  # P√°ginas da aplica√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Menu.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Orders.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Tables.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ backoffice/         # Painel administrativo
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ lib/                    # Utilit√°rios e hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useApi.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useSocket.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils.js
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ config/                 # Configura√ß√µes
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.js
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ __tests__/              # Testes unit√°rios
‚îú‚îÄ‚îÄ üìÅ cypress/                    # Testes E2E
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ e2e/
‚îú‚îÄ‚îÄ üìÅ public/                     # Arquivos est√°ticos
‚îú‚îÄ‚îÄ package.json                   # Depend√™ncias Node.js
‚îú‚îÄ‚îÄ vite.config.js                 # Configura√ß√£o Vite
‚îî‚îÄ‚îÄ README.md                      # Documenta√ß√£o principal
</code></pre>

<hr />

<h1 id="api-documentation">üìö API Documentation</h1>

<h2 id="endpoints-principais">Endpoints Principais</h2>

<h3 id="clientes">Clientes</h3>

<pre><code>POST   /api/cliente              # Criar cliente
GET    /api/cliente/&lt;mesa&gt;       # Buscar por mesa
DELETE /api/cliente/&lt;id&gt;         # Remover cliente
</code></pre>

<h3 id="itens-do-menu">Itens do Menu</h3>

<pre><code>GET    /api/itens                # Listar todos
POST   /api/itens                # Criar item
GET    /api/itens/&lt;id&gt;           # Buscar por ID
PUT    /api/itens/&lt;id&gt;           # Atualizar item
DELETE /api/itens/&lt;id&gt;           # Remover item
</code></pre>

<h3 id="pedidos">Pedidos</h3>

<pre><code>POST   /api/pedidos              # Criar pedido
GET    /api/pedidos/&lt;id&gt;         # Buscar pedido
PUT    /api/pedidos/&lt;id&gt;/status  # Atualizar status
GET    /api/pedidos/cliente/&lt;id&gt; # Pedidos do cliente
</code></pre>

<h3 id="pagamentos">Pagamentos</h3>

<pre><code>POST   /api/pagamentos           # Criar pagamento
GET    /api/pagamentos/&lt;id&gt;      # Buscar pagamento
GET    /api/pagamentos/pedido/&lt;id&gt; # Pagamento do pedido
</code></pre>

<h2 id="documentacao-interativa">Documenta√ß√£o Interativa</h2>

<p>Acesse: <code>http://localhost:5001/apidocs</code></p>

<h2 id="exemplos-de-uso">Exemplos de Uso</h2>

<h3 id="criar-cliente">Criar Cliente</h3>

<pre><code>curl -X POST http://localhost:5001/api/cliente \
  -H "Content-Type: application/json" \
  -d '{"nome": "Jo√£o Silva", "mesa": 1}'
</code></pre>

<h3 id="criar-pedido">Criar Pedido</h3>

<pre><code>curl -X POST http://localhost:5001/api/pedidos \
  -H "Content-Type: application/json" \
  -d '{
    "cliente_id": 1,
    "itens": [
      {"item_id": 1, "quantidade": 2},
      {"item_id": 3, "quantidade": 1}
    ]
  }'
</code></pre>

<h3 id="fazer-pagamento">Fazer Pagamento</h3>

<pre><code>curl -X POST http://localhost:5001/api/pagamentos \
  -H "Content-Type: application/json" \
  -d '{
    "pedido_id": 1,
    "metodo": "Cart√£o de Cr√©dito",
    "valor": 38.30
  }'
</code></pre>

<hr />

<h1 id="fluxo-de-funcionamento">üîÑ Fluxo de Funcionamento</h1>

<h2 id="fluxo-do-cliente">Fluxo do Cliente</h2>

<pre><code>graph TD
    A[Cliente acessa PWA] --&gt; B[Identifica√ß√£o]
    B --&gt; C[Seleciona mesa]
    C --&gt; D[Visualiza card√°pio]
    D --&gt; E[Adiciona itens ao carrinho]
    E --&gt; F[Confirma pedido]
    F --&gt; G[Escolhe forma de pagamento]
    G --&gt; H[Finaliza pagamento]
    H --&gt; I[Mesa liberada]
</code></pre>

<h2 id="fluxo-do-estabelecimento">Fluxo do Estabelecimento</h2>

<pre><code>graph TD
    A[Funcion√°rio acessa backoffice] --&gt; B[Visualiza pedidos]
    B --&gt; C[Atualiza status]
    C --&gt; D[Prepara pedido]
    D --&gt; E[Entrega ao cliente]
    E --&gt; F[Confirma entrega]
    F --&gt; G[Gera relat√≥rios]
</code></pre>

<h2 id="fluxo-de-pagamento">Fluxo de Pagamento</h2>

<pre><code>graph TD
    A[Cliente finaliza pedido] --&gt; B[Escolhe m√©todo]
    B --&gt; C{Dinheiro?}
    C --&gt;|Sim| D[Calcula troco]
    C --&gt;|N√£o| E[Processa cart√£o/PIX]
    D --&gt; F[Confirma pagamento]
    E --&gt; F
    F --&gt; G[Atualiza status]
    G --&gt; H[Libera mesa]
</code></pre>

<hr />

<h1 id="funcionalidades">‚ö° Funcionalidades</h1>

<h2 id="funcionalidades-do-cliente">Funcionalidades do Cliente</h2>

<ul>
<li>‚úÖ <strong>Identifica√ß√£o</strong>: Nome e sele√ß√£o de mesa</li>
<li>‚úÖ <strong>Card√°pio Digital</strong>: Visualiza√ß√£o de itens e pre√ßos</li>
<li>‚úÖ <strong>Carrinho Interativo</strong>: Adicionar/remover itens</li>
<li>‚úÖ <strong>Pedidos</strong>: Confirma√ß√£o e acompanhamento</li>
<li>‚úÖ <strong>Pagamentos</strong>: M√∫ltiplas formas de pagamento</li>
<li>‚úÖ <strong>PWA</strong>: Instala√ß√£o como app</li>
</ul>

<h2 id="funcionalidades-do-estabelecimento">Funcionalidades do Estabelecimento</h2>

<ul>
<li>‚úÖ <strong>Dashboard</strong>: Vis√£o geral do neg√≥cio</li>
<li>‚úÖ <strong>Gest√£o de Pedidos</strong>: Acompanhamento em tempo real</li>
<li>‚úÖ <strong>Gest√£o de Mesas</strong>: Controle de ocupa√ß√£o</li>
<li>‚úÖ <strong>Gest√£o do Card√°pio</strong>: CRUD completo de itens</li>
<li>‚úÖ <strong>Relat√≥rios</strong>: An√°lises de vendas</li>
<li>‚úÖ <strong>Configura√ß√µes</strong>: Personaliza√ß√£o do sistema</li>
</ul>

<h2 id="funcionalidades-tecnicas">Funcionalidades T√©cnicas</h2>

<ul>
<li>‚úÖ <strong>API RESTful</strong>: Endpoints bem documentados</li>
<li>‚úÖ <strong>WebSocket</strong>: Atualiza√ß√µes em tempo real</li>
<li>‚úÖ <strong>Responsive Design</strong>: Funciona em mobile e desktop</li>
<li>‚úÖ <strong>PWA Features</strong>: Offline, push notifications</li>
<li>‚úÖ <strong>Testes Automatizados</strong>: Cobertura de 70%+</li>
<li>‚úÖ <strong>Documenta√ß√£o Swagger</strong>: API interativa</li>
</ul>

<hr />

<h1 id="testes-automatizados">üß™ Testes Automatizados</h1>

<h2 id="testes-do-backend">Testes do Backend</h2>

<pre><code># Executar todos os testes
cd backend
pytest --cov=.

# Executar testes espec√≠ficos
pytest tests/test_orders.py
pytest tests/test_menu.py

# Ver cobertura detalhada
pytest --cov=. --cov-report=html
</code></pre>

<h2 id="testes-do-frontend">Testes do Frontend</h2>

<pre><code># Testes unit√°rios
npm run test

# Testes com cobertura
npm run test:coverage

# Testes E2E (Cypress)
npx cypress open
npx cypress run
</code></pre>

<h2 id="cobertura-de-testes">Cobertura de Testes</h2>

<ul>
<li><strong>Backend</strong>: ~70% de cobertura</li>
<li><strong>Frontend</strong>: Testes unit√°rios + E2E</li>
<li><strong>API</strong>: Todos os endpoints testados</li>
<li><strong>UI</strong>: Componentes e p√°ginas testados</li>
</ul>

<h2 id="estrutura-dos-testes">Estrutura dos Testes</h2>

<h3 id="backend-pytest">Backend (Pytest)</h3>

<pre><code>backend/tests/
‚îú‚îÄ‚îÄ conftest.py           # Configura√ß√£o pytest
‚îú‚îÄ‚îÄ test_auth.py          # Testes de autentica√ß√£o
‚îú‚îÄ‚îÄ test_menu.py          # Testes do menu
‚îú‚îÄ‚îÄ test_orders.py        # Testes de pedidos
‚îú‚îÄ‚îÄ test_payments.py      # Testes de pagamentos
‚îú‚îÄ‚îÄ test_routes.py        # Testes de rotas
‚îî‚îÄ‚îÄ test_tables.py        # Testes de mesas
</code></pre>

<h3 id="frontend-vitest-cypress">Frontend (Vitest + Cypress)</h3>

<pre><code>src/__tests__/
‚îú‚îÄ‚îÄ App.test.jsx
‚îú‚îÄ‚îÄ Badge.test.jsx
‚îú‚îÄ‚îÄ Button.test.jsx
‚îú‚îÄ‚îÄ Menu.test.jsx
‚îú‚îÄ‚îÄ Notification.test.jsx
‚îú‚îÄ‚îÄ Orders.test.jsx
‚îú‚îÄ‚îÄ Sidebar.test.jsx
‚îú‚îÄ‚îÄ Tables.test.jsx
‚îú‚îÄ‚îÄ useApi.test.jsx
‚îú‚îÄ‚îÄ useLoading.test.jsx
‚îî‚îÄ‚îÄ useSocket.test.jsx

cypress/
‚îú‚îÄ‚îÄ cypress.config.js
‚îú‚îÄ‚îÄ e2e/
‚îÇ   ‚îî‚îÄ‚îÄ home.cy.js
‚îî‚îÄ‚îÄ fixtures/
    ‚îî‚îÄ‚îÄ example.json
</code></pre>

<hr />

<h1 id="deploy-e-manutencao">üöÄ Deploy e Manuten√ß√£o</h1>

<h2 id="deploy-local">Deploy Local</h2>

<pre><code># Backend
cd backend
python3 app.py

# Frontend
npm run dev
</code></pre>

<h2 id="deploy-em-producao">Deploy em Produ√ß√£o</h2>

<h3 id="backend-herokurailway">Backend (Heroku/Railway)</h3>

<pre><code># Criar Procfile
echo "web: python app.py" &gt; Procfile

# Configurar vari√°veis de ambiente
export DATABASE_URL=postgresql://...
export FLASK_ENV=production

# Deploy
git push heroku main
</code></pre>

<h3 id="frontend-vercelnetlify">Frontend (Vercel/Netlify)</h3>

<pre><code># Build para produ√ß√£o
npm run build

# Deploy
vercel --prod
</code></pre>

<h2 id="docker-opcional">Docker (Opcional)</h2>

<pre><code># Dockerfile para Backend
FROM python:3.9-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
EXPOSE 5001
CMD ["python", "app.py"]
</code></pre>

<h2 id="monitoramento">Monitoramento</h2>

<ul>
<li><strong>Logs</strong>: Verificar logs do backend</li>
<li><strong>Performance</strong>: Monitorar tempo de resposta</li>
<li><strong>Erros</strong>: Acompanhar erros da API</li>
<li><strong>Uso</strong>: M√©tricas de utiliza√ß√£o</li>
</ul>

<h2 id="atualizacoes">Atualiza√ß√µes</h2>

<pre><code># Atualizar depend√™ncias
pip install -r requirements.txt --upgrade
npm update

# Verificar seguran√ßa
npm audit
pip-audit

# Testes ap√≥s atualiza√ß√£o
pytest --cov=.
npm run test
</code></pre>

<h2 id="backup">Backup</h2>

<pre><code># Backup do banco
cp comandas.db backup_$(date +%Y%m%d).db

# Backup do c√≥digo
git push origin main
</code></pre>

<hr />

<h1 id="documentacao-tecnica">üîß Documenta√ß√£o T√©cnica</h1>

<h2 id="modelos-de-dados">Modelos de Dados</h2>

<h3 id="schema-do-banco">Schema do Banco</h3>

<h4 id="tabela-clientes">Tabela: <code>clientes</code></h4>

<pre><code>CREATE TABLE clientes (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    nome VARCHAR(100) NOT NULL,
    mesa INTEGER NOT NULL,
    data_criacao TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    ativo BOOLEAN DEFAULT 1
);
</code></pre>

<h4 id="tabela-itens">Tabela: <code>itens</code></h4>

<pre><code>CREATE TABLE itens (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    nome VARCHAR(100) NOT NULL,
    descricao TEXT,
    preco DECIMAL(10,2) NOT NULL,
    categoria VARCHAR(50) DEFAULT 'Padr√£o',
    disponivel BOOLEAN DEFAULT 1
);
</code></pre>

<h4 id="tabela-pedidos">Tabela: <code>pedidos</code></h4>

<pre><code>CREATE TABLE pedidos (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    cliente_id INTEGER NOT NULL,
    status VARCHAR(20) DEFAULT 'Pendente',
    total DECIMAL(10,2) DEFAULT 0,
    data_criacao TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    data_atualizacao TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (cliente_id) REFERENCES clientes(id)
);
</code></pre>

<h4 id="tabela-pedido_item">Tabela: <code>pedido_item</code></h4>

<pre><code>CREATE TABLE pedido_item (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    pedido_id INTEGER NOT NULL,
    item_id INTEGER NOT NULL,
    quantidade INTEGER NOT NULL,
    preco_unitario DECIMAL(10,2) NOT NULL,
    FOREIGN KEY (pedido_id) REFERENCES pedidos(id),
    FOREIGN KEY (item_id) REFERENCES itens(id)
);
</code></pre>

<h4 id="tabela-pagamentos">Tabela: <code>pagamentos</code></h4>

<pre><code>CREATE TABLE pagamentos (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    pedido_id INTEGER NOT NULL,
    metodo VARCHAR(50) NOT NULL,
    valor DECIMAL(10,2) NOT NULL,
    data_pagamento TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (pedido_id) REFERENCES pedidos(id)
);
</code></pre>

<h2 id="componentes-frontend">Componentes Frontend</h2>

<h3 id="estrutura-de-componentes">Estrutura de Componentes</h3>

<pre><code>src/components/
‚îú‚îÄ‚îÄ Header.jsx              # Header principal
‚îú‚îÄ‚îÄ Sidebar.jsx             # Menu lateral
‚îú‚îÄ‚îÄ MenuItemForm.jsx        # Formul√°rio de itens
‚îú‚îÄ‚îÄ Layout/
‚îÇ   ‚îî‚îÄ‚îÄ Layout.jsx          # Layout base
‚îú‚îÄ‚îÄ PaymentManagement/
‚îÇ   ‚îî‚îÄ‚îÄ PaymentManagement.jsx # Gest√£o de pagamentos
‚îî‚îÄ‚îÄ ui/                     # Componentes UI b√°sicos
    ‚îú‚îÄ‚îÄ badge.jsx
    ‚îú‚îÄ‚îÄ button.jsx
    ‚îú‚îÄ‚îÄ card.jsx
    ‚îú‚îÄ‚îÄ input.jsx
    ‚îú‚îÄ‚îÄ label.jsx
    ‚îú‚îÄ‚îÄ Notification.jsx
    ‚îî‚îÄ‚îÄ textarea.jsx
</code></pre>

<h2 id="hooks-customizados">Hooks Customizados</h2>

<h3 id="useapi-hook">useApi Hook</h3>

<pre><code>// src/lib/useApi.js
import { useState, useEffect } from 'react';

const API_BASE_URL = 'http://localhost:5001/api';

export const useApi = () =&gt; {
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);

  const request = async (endpoint, options = {}) =&gt; {
    setLoading(true);
    setError(null);

    try {
      const response = await fetch(`${API_BASE_URL}${endpoint}`, {
        headers: {
          'Content-Type': 'application/json',
          ...options.headers,
        },
        ...options,
      });

      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }

      const data = await response.json();
      return data;
    } catch (err) {
      setError(err.message);
      throw err;
    } finally {
      setLoading(false);
    }
  };

  return {
    loading,
    error,
    get: (endpoint) =&gt; request(endpoint),
    post: (endpoint, data) =&gt; request(endpoint, {
      method: 'POST',
      body: JSON.stringify(data),
    }),
    put: (endpoint, data) =&gt; request(endpoint, {
      method: 'PUT',
      body: JSON.stringify(data),
    }),
    del: (endpoint) =&gt; request(endpoint, { method: 'DELETE' }),
  };
};
</code></pre>

<h2 id="configuracao-de-ambiente">Configura√ß√£o de Ambiente</h2>

<h3 id="variaveis-de-ambiente">Vari√°veis de Ambiente</h3>

<h4 id="backend-env">Backend (.env)</h4>

<pre><code>FLASK_ENV=development
FLASK_DEBUG=1
DATABASE_URL=sqlite:///comandas.db
SECRET_KEY=your-secret-key-here
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173
</code></pre>

<h4 id="frontend-env">Frontend (.env)</h4>

<pre><code>VITE_API_URL=http://localhost:5001
VITE_SOCKET_URL=http://localhost:5001
VITE_APP_NAME=Sistema de Comandas
</code></pre>

<h3 id="dependencias">Depend√™ncias</h3>

<h4 id="requirementstxt">requirements.txt</h4>

<pre><code>Flask==2.3.3
Flask-SQLAlchemy==3.0.5
Flask-CORS==4.0.0
Flasgger==0.9.7.1
Flask-SocketIO==5.3.6
python-socketio==5.8.0
python-engineio==4.7.1
pytest==7.4.0
pytest-cov==4.1.0
</code></pre>

<h4 id="packagejson">package.json</h4>

<pre><code>{
  "name": "pwa-comandas",
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "test": "vitest",
    "test:coverage": "vitest --coverage",
    "lint": "eslint . --ext js,jsx --report-unused-disable-directives --max-warnings 0"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.8.1",
    "socket.io-client": "^4.6.1",
    "lucide-react": "^0.263.1",
    "clsx": "^2.0.0",
    "tailwind-merge": "^1.14.0"
  }
}
</code></pre>

<hr />

<h1 id="faq-e-suporte">‚ùì FAQ e Suporte</h1>

<h2 id="perguntas-frequentes">Perguntas Frequentes</h2>

<h3 id="como-adicionar-novos-itens-ao-cardapio">Como adicionar novos itens ao card√°pio?</h3>

<ol>
<li>Acesse o backoffice: <code>http://localhost:5173/backoffice/menu</code></li>
<li>Clique em "Adicionar Item"</li>
<li>Preencha nome, descri√ß√£o e pre√ßo</li>
<li>Salve o item</li>
</ol>

<h3 id="como-liberar-uma-mesa-apos-pagamento">Como liberar uma mesa ap√≥s pagamento?</h3>

<ul>
<li>A mesa √© liberada automaticamente ap√≥s o pagamento</li>
<li>O cliente e pedido permanecem no hist√≥rico</li>
<li>N√£o √© poss√≠vel remover clientes com pedidos ativos</li>
</ul>

<h3 id="como-configurar-formas-de-pagamento">Como configurar formas de pagamento?</h3>

<ul>
<li>O sistema suporta: Dinheiro, Cart√£o de Cr√©dito, Cart√£o de D√©bito, PIX</li>
<li>Para adicionar novas formas, edite o c√≥digo em <code>src/pages/Orders.jsx</code></li>
</ul>

<h3 id="como-gerar-relatorios">Como gerar relat√≥rios?</h3>

<ol>
<li>Acesse: <code>http://localhost:5173/backoffice/reports</code></li>
<li>Selecione per√≠odo desejado</li>
<li>Visualize relat√≥rios de vendas</li>
</ol>

<h3 id="como-resolver-problemas-de-cors">Como resolver problemas de CORS?</h3>

<ul>
<li>O backend j√° est√° configurado com CORS</li>
<li>Verifique se ambos os servidores est√£o rodando</li>
<li>Confirme as URLs nas configura√ß√µes</li>
</ul>

<h3 id="como-testar-o-sistema">Como testar o sistema?</h3>

<pre><code># Backend
pytest --cov=.

# Frontend
npm run test
npm run test:coverage

# E2E
npx cypress run
</code></pre>

<h2 id="problemas-comuns">Problemas Comuns</h2>

<h3 id="backend-nao-inicia">Backend n√£o inicia</h3>

<pre><code># Verificar porta
lsof -ti:5001 | xargs kill -9

# Reinstalar depend√™ncias
pip install -r requirements.txt
</code></pre>

<h3 id="frontend-nao-carrega">Frontend n√£o carrega</h3>

<pre><code># Verificar porta
lsof -ti:5173 | xargs kill -9

# Reinstalar depend√™ncias
npm install
</code></pre>

<h3 id="erro-de-modulo-nao-encontrado">Erro de m√≥dulo n√£o encontrado</h3>

<pre><code># Instalar depend√™ncias Python
python3 -m pip install flasgger

# Verificar ambiente virtual
source venv/bin/activate
</code></pre>

<h2 id="contato">Contato</h2>

<ul>
<li><strong>Reposit√≥rio</strong>: <a href="https://github.com/PedroACarvalho/PWA-para-c-lculo-e-pagamento-de-comandas">GitHub</a></li>
<li><strong>Issues</strong>: Reporte problemas no GitHub</li>
<li><strong>Documenta√ß√£o</strong>: <a href="./README.md">README.md</a></li>
</ul>

<hr />

<h1 id="anexos">üìù Anexos</h1>

<h2 id="changelog">Changelog</h2>

<h3 id="v100-2024-07-27">v1.0.0 (2024-07-27)</h3>

<ul>
<li>‚úÖ Sistema completo funcional</li>
<li>‚úÖ PWA com todas as funcionalidades</li>
<li>‚úÖ API RESTful documentada</li>
<li>‚úÖ Testes automatizados</li>
<li>‚úÖ Interface responsiva</li>
<li>‚úÖ Gest√£o completa de pedidos e pagamentos</li>
</ul>

<h2 id="licenca">Licen√ßa</h2>

<p>Este projeto foi desenvolvido como parte de um TCC (Trabalho de Conclus√£o de Curso).</p>

<h2 id="recursos-adicionais">Recursos Adicionais</h2>

<h3 id="links-uteis">Links √öteis</h3>

<ul>
<li><strong>Documenta√ß√£o Flask</strong>: https://flask.palletsprojects.com/</li>
<li><strong>Documenta√ß√£o React</strong>: https://react.dev/</li>
<li><strong>Documenta√ß√£o Tailwind</strong>: https://tailwindcss.com/docs</li>
<li><strong>Documenta√ß√£o Vite</strong>: https://vitejs.dev/</li>
<li><strong>Documenta√ß√£o Pytest</strong>: https://docs.pytest.org/</li>
<li><strong>Documenta√ß√£o Vitest</strong>: https://vitest.dev/</li>
</ul>

<h3 id="livros-recomendados">Livros Recomendados</h3>

<ul>
<li>"Clean Code" - Robert C. Martin</li>
<li>"Test-Driven Development" - Kent Beck</li>
<li>"React Design Patterns" - Alex Banks &amp; Eve Porcello</li>
<li>"Flask Web Development" - Miguel Grinberg</li>
</ul>

<hr />

<p><strong>üéâ Sistema 100% Funcional e Documentado!</strong></p>

<p><em>Esta documenta√ß√£o fornece todos os detalhes necess√°rios para entender, instalar, configurar e manter o Sistema de Comandas Online.</em></p>

<p><em>√öltima atualiza√ß√£o: 27/07/2024</em></p>

        </div>
        
        <div class="footer">
            <p>üéâ Sistema 100% Funcional e Documentado!</p>
            <p>Esta documenta√ß√£o fornece todos os detalhes necess√°rios para entender, instalar, configurar e manter o Sistema de Comandas Online.</p>
            <p><strong>√öltima atualiza√ß√£o:</strong> 07/08/2025 18:32:36</p>
        </div>
    </body>
    </html>
    