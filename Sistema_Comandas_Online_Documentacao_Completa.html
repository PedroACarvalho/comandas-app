
    <!DOCTYPE html>
    <html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Sistema de Comandas Online - DocumentaÃ§Ã£o Completa</title>
        <style>
            @media print {
                @page {
                    size: A4;
                    margin: 2cm;
                }
                
                body {
                    font-size: 12pt;
                    line-height: 1.4;
                }
                
                h1 { font-size: 18pt; }
                h2 { font-size: 16pt; }
                h3 { font-size: 14pt; }
                h4 { font-size: 13pt; }
                
                pre, code {
                    font-size: 10pt;
                    white-space: pre-wrap;
                    word-wrap: break-word;
                }
                
                .page-break {
                    page-break-before: always;
                }
                
                .no-break {
                    page-break-inside: avoid;
                }
            }
            
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: #333;
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
                background-color: #fff;
            }
            
            .header {
                text-align: center;
                border-bottom: 3px solid #3498db;
                padding-bottom: 20px;
                margin-bottom: 30px;
            }
            
            .header h1 {
                color: #2c3e50;
                margin: 0;
                font-size: 2.5em;
            }
            
            .header .subtitle {
                color: #7f8c8d;
                font-size: 1.2em;
                margin-top: 10px;
            }
            
            .header .meta {
                color: #95a5a6;
                font-size: 0.9em;
                margin-top: 10px;
            }
            
            h1 {
                color: #2c3e50;
                border-bottom: 3px solid #3498db;
                padding-bottom: 10px;
                margin-top: 40px;
                margin-bottom: 20px;
            }
            
            h2 {
                color: #34495e;
                border-bottom: 2px solid #bdc3c7;
                padding-bottom: 5px;
                margin-top: 30px;
                margin-bottom: 15px;
            }
            
            h3 {
                color: #2c3e50;
                margin-top: 25px;
                margin-bottom: 10px;
            }
            
            h4, h5, h6 {
                color: #34495e;
                margin-top: 20px;
                margin-bottom: 10px;
            }
            
            code {
                background-color: #f8f9fa;
                padding: 2px 4px;
                border-radius: 3px;
                font-family: 'Courier New', monospace;
                font-size: 0.9em;
                color: #e74c3c;
            }
            
            pre {
                background-color: #f8f9fa;
                border: 1px solid #e9ecef;
                border-radius: 5px;
                padding: 15px;
                overflow-x: auto;
                margin: 15px 0;
            }
            
            pre code {
                background-color: transparent;
                padding: 0;
                color: #333;
            }
            
            blockquote {
                border-left: 4px solid #3498db;
                margin: 20px 0;
                padding-left: 20px;
                color: #666;
                font-style: italic;
            }
            
            table {
                border-collapse: collapse;
                width: 100%;
                margin: 20px 0;
                font-size: 0.9em;
            }
            
            th, td {
                border: 1px solid #ddd;
                padding: 8px 12px;
                text-align: left;
            }
            
            th {
                background-color: #f8f9fa;
                font-weight: bold;
                color: #2c3e50;
            }
            
            tr:nth-child(even) {
                background-color: #f9f9f9;
            }
            
            ul, ol {
                padding-left: 20px;
            }
            
            li {
                margin-bottom: 5px;
            }
            
            a {
                color: #3498db;
                text-decoration: none;
            }
            
            a:hover {
                text-decoration: underline;
            }
            
            .toc {
                background-color: #f8f9fa;
                border: 1px solid #e9ecef;
                border-radius: 5px;
                padding: 20px;
                margin: 20px 0;
            }
            
            .toc h2 {
                margin-top: 0;
                border-bottom: none;
            }
            
            .toc ul {
                list-style-type: none;
                padding-left: 0;
            }
            
            .toc li {
                margin-bottom: 8px;
            }
            
            .toc a {
                color: #2c3e50;
                text-decoration: none;
            }
            
            .toc a:hover {
                color: #3498db;
            }
            
            .emoji {
                font-size: 1.2em;
            }
            
            .highlight {
                background-color: #fff3cd;
                border: 1px solid #ffeaa7;
                border-radius: 3px;
                padding: 10px;
                margin: 10px 0;
            }
            
            .success {
                background-color: #d4edda;
                border: 1px solid #c3e6cb;
                border-radius: 3px;
                padding: 10px;
                margin: 10px 0;
                color: #155724;
            }
            
            .warning {
                background-color: #fff3cd;
                border: 1px solid #ffeaa7;
                border-radius: 3px;
                padding: 10px;
                margin: 10px 0;
                color: #856404;
            }
            
            .info {
                background-color: #d1ecf1;
                border: 1px solid #bee5eb;
                border-radius: 3px;
                padding: 10px;
                margin: 10px 0;
                color: #0c5460;
            }
            
            .page-break {
                page-break-before: always;
            }
            
            .no-break {
                page-break-inside: avoid;
            }
            
            .footer {
                text-align: center;
                margin-top: 50px;
                padding-top: 20px;
                border-top: 1px solid #e9ecef;
                color: #95a5a6;
                font-size: 0.9em;
            }
            
            @media screen {
                body {
                    font-size: 14px;
                }
                
                pre {
                    max-width: 100%;
                    overflow-x: auto;
                }
            }
        </style>
    </head>
    <body>
        <div class="header">
            <h1>ğŸ“š Sistema de Comandas Online</h1>
            <div class="subtitle">DocumentaÃ§Ã£o Completa</div>
            <div class="meta">
                <strong>Autor:</strong> Pedro Augusto Carvalho<br>
                <strong>VersÃ£o:</strong> 1.0.0<br>
                <strong>Data:</strong> 07/08/2025<br>
                <strong>Projeto:</strong> TCC - Sistema de Comandas Online
            </div>
        </div>
        
        <div class="content">
            <h1 id="sistema-de-comandas-online">ğŸ“š Sistema de Comandas Online</h1>

<h2 id="documentacao-completa">DocumentaÃ§Ã£o Completa</h2>

<hr />

<p><strong>Autor:</strong> Pedro Augusto Carvalho<br />
<strong>VersÃ£o:</strong> 1.0.0<br />
<strong>Data:</strong> 27/07/2024<br />
<strong>Projeto:</strong> TCC - Sistema de Comandas Online  </p>

<hr />

<h1 id="sumario">ğŸ“‹ SumÃ¡rio</h1>

<ol>
<li><a href="#introduÃ§Ã£o">IntroduÃ§Ã£o</a></li>
<li><a href="#visÃ£o-geral-do-sistema">VisÃ£o Geral do Sistema</a></li>
<li><a href="#arquitetura-e-tecnologias">Arquitetura e Tecnologias</a></li>
<li><a href="#instalaÃ§Ã£o-e-configuraÃ§Ã£o">InstalaÃ§Ã£o e ConfiguraÃ§Ã£o</a></li>
<li><a href="#estrutura-do-projeto">Estrutura do Projeto</a></li>
<li><a href="#api-documentation">API Documentation</a></li>
<li><a href="#fluxo-de-funcionamento">Fluxo de Funcionamento</a></li>
<li><a href="#funcionalidades">Funcionalidades</a></li>
<li><a href="#testes-automatizados">Testes Automatizados</a></li>
<li><a href="#deploy-e-manutenÃ§Ã£o">Deploy e ManutenÃ§Ã£o</a></li>
<li><a href="#documentaÃ§Ã£o-tÃ©cnica">DocumentaÃ§Ã£o TÃ©cnica</a></li>
<li><a href="#faq-e-suporte">FAQ e Suporte</a></li>
<li><a href="#anexos">Anexos</a></li>
</ol>

<hr />

<h1 id="introducao">ğŸ¯ IntroduÃ§Ã£o</h1>

<h2 id="sobre-o-projeto">Sobre o Projeto</h2>

<p>O <strong>Sistema de Comandas Online</strong> Ã© uma PWA (Progressive Web App) desenvolvida para estabelecimentos gastronÃ´micos, permitindo o gerenciamento completo de pedidos, mesas, clientes e pagamentos.</p>

<h3 id="objetivos-principais">Objetivos Principais</h3>

<ul>
<li><strong>Automatizar</strong> o processo de pedidos em restaurantes</li>
<li><strong>Melhorar</strong> a experiÃªncia do cliente</li>
<li><strong>Otimizar</strong> o fluxo de trabalho dos funcionÃ¡rios</li>
<li><strong>Fornecer</strong> relatÃ³rios e anÃ¡lises de vendas</li>
<li><strong>Garantir</strong> rastreabilidade completa dos pedidos</li>
</ul>

<h3 id="publico-alvo">PÃºblico-Alvo</h3>

<ul>
<li><strong>Restaurantes</strong> e estabelecimentos gastronÃ´micos</li>
<li><strong>Bares</strong> e lanchonetes</li>
<li><strong>Food trucks</strong> e eventos</li>
<li><strong>Cafeterias</strong> e docerias</li>
</ul>

<hr />

<h1 id="visao-geral-do-sistema">ğŸ—ï¸ VisÃ£o Geral do Sistema</h1>

<h2 id="conceito">Conceito</h2>

<p>O sistema Ã© uma aplicaÃ§Ã£o web progressiva (PWA) que permite aos clientes fazerem pedidos diretamente de suas mesas atravÃ©s de dispositivos mÃ³veis, enquanto fornece aos estabelecimentos uma ferramenta completa de gestÃ£o.</p>

<h2 id="caracteristicas-principais">CaracterÃ­sticas Principais</h2>

<ul>
<li><strong>Interface Responsiva</strong>: Funciona em mobile e desktop</li>
<li><strong>PWA</strong>: Pode ser instalado como aplicativo</li>
<li><strong>Tempo Real</strong>: AtualizaÃ§Ãµes via WebSocket</li>
<li><strong>Offline</strong>: Funcionalidades bÃ¡sicas sem internet</li>
<li><strong>Multiplataforma</strong>: AcessÃ­vel via navegador</li>
</ul>

<hr />

<h1 id="arquitetura-e-tecnologias">ğŸ› ï¸ Arquitetura e Tecnologias</h1>

<h2 id="diagrama-de-arquitetura">Diagrama de Arquitetura</h2>

<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚    Backend      â”‚    â”‚   Database      â”‚
â”‚   (React PWA)   â”‚â—„â”€â”€â–ºâ”‚   (Flask API)   â”‚â—„â”€â”€â–ºâ”‚   (SQLite)      â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Interface     â”‚    â”‚ â€¢ REST API      â”‚    â”‚ â€¢ Clientes      â”‚
â”‚ â€¢ NavegaÃ§Ã£o     â”‚    â”‚ â€¢ WebSocket     â”‚    â”‚ â€¢ Pedidos       â”‚
â”‚ â€¢ PWA Features  â”‚    â”‚ â€¢ Swagger Docs  â”‚    â”‚ â€¢ Itens         â”‚
â”‚ â€¢ Responsive    â”‚    â”‚ â€¢ CORS          â”‚    â”‚ â€¢ Pagamentos    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>

<h2 id="stack-tecnologica">Stack TecnolÃ³gica</h2>

<h3 id="frontend">Frontend</h3>

<ul>
<li><strong>React 18</strong> - Framework JavaScript</li>
<li><strong>Vite</strong> - Build tool e dev server</li>
<li><strong>Tailwind CSS</strong> - Framework CSS</li>
<li><strong>React Router</strong> - Roteamento</li>
<li><strong>Socket.io Client</strong> - ComunicaÃ§Ã£o em tempo real</li>
</ul>

<h3 id="backend">Backend</h3>

<ul>
<li><strong>Python 3.9+</strong> - Linguagem principal</li>
<li><strong>Flask</strong> - Framework web</li>
<li><strong>SQLAlchemy</strong> - ORM</li>
<li><strong>SQLite</strong> - Banco de dados</li>
<li><strong>Flasgger</strong> - DocumentaÃ§Ã£o Swagger</li>
<li><strong>Flask-SocketIO</strong> - WebSocket</li>
</ul>

<h3 id="ferramentas-de-desenvolvimento">Ferramentas de Desenvolvimento</h3>

<ul>
<li><strong>Git</strong> - Controle de versÃ£o</li>
<li><strong>GitHub</strong> - RepositÃ³rio remoto</li>
<li><strong>Pytest</strong> - Testes automatizados</li>
<li><strong>Cypress</strong> - Testes E2E</li>
<li><strong>Jest</strong> - Testes unitÃ¡rios</li>
</ul>

<hr />

<h1 id="instalacao-e-configuracao">âš™ï¸ InstalaÃ§Ã£o e ConfiguraÃ§Ã£o</h1>

<h2 id="pre-requisitos">PrÃ©-requisitos</h2>

<pre><code># Verificar versÃµes
python3 --version  # 3.9+
node --version     # 16+
npm --version      # 8+
</code></pre>

<h2 id="instalacao-rapida">InstalaÃ§Ã£o RÃ¡pida</h2>

<pre><code># 1. Clone o repositÃ³rio
git clone https://github.com/PedroACarvalho/PWA-para-c-lculo-e-pagamento-de-comandas.git
cd "PWA para cÃ¡lculo e pagamento de comandas"

# 2. Backend
cd backend
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt

# 3. Frontend
cd ..
npm install

# 4. Iniciar
python3 backend/app.py  # Terminal 1
npm run dev            # Terminal 2
</code></pre>

<h2 id="configuracao-detalhada">ConfiguraÃ§Ã£o Detalhada</h2>

<h3 id="backend-2">Backend</h3>

<pre><code># Criar ambiente virtual
python3 -m venv venv
source venv/bin/activate

# Instalar dependÃªncias
pip install -r requirements.txt

# Configurar variÃ¡veis de ambiente (opcional)
export FLASK_ENV=development
export FLASK_DEBUG=1

# Inicializar banco de dados
python3 init_db_script.py
</code></pre>

<h3 id="frontend-2">Frontend</h3>

<pre><code># Instalar dependÃªncias
npm install

# Configurar variÃ¡veis de ambiente (opcional)
echo "VITE_API_URL=http://localhost:5001" &gt; .env

# Verificar instalaÃ§Ã£o
npm run build
</code></pre>

<hr />

<h1 id="estrutura-do-projeto">ğŸ“ Estrutura do Projeto</h1>

<pre><code>PWA para cÃ¡lculo e pagamento de comandas/
â”œâ”€â”€ ğŸ“ backend/                    # Backend Python/Flask
â”‚   â”œâ”€â”€ ğŸ“ models/                 # Modelos do banco
â”‚   â”‚   â”œâ”€â”€ cliente.py
â”‚   â”‚   â”œâ”€â”€ item.py
â”‚   â”‚   â”œâ”€â”€ mesa.py
â”‚   â”‚   â”œâ”€â”€ pagamento.py
â”‚   â”‚   â”œâ”€â”€ pedido.py
â”‚   â”‚   â””â”€â”€ pedido_item.py
â”‚   â”œâ”€â”€ ğŸ“ routes/                 # Rotas da API
â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â”œâ”€â”€ menu.py
â”‚   â”‚   â”œâ”€â”€ orders.py
â”‚   â”‚   â”œâ”€â”€ payment.py
â”‚   â”‚   â””â”€â”€ tables.py
â”‚   â”œâ”€â”€ ğŸ“ tests/                  # Testes automatizados
â”‚   â”‚   â”œâ”€â”€ test_auth.py
â”‚   â”‚   â”œâ”€â”€ test_menu.py
â”‚   â”‚   â”œâ”€â”€ test_orders.py
â”‚   â”‚   â””â”€â”€ test_tables.py
â”‚   â”œâ”€â”€ app.py                     # AplicaÃ§Ã£o principal
â”‚   â”œâ”€â”€ database.py                # ConfiguraÃ§Ã£o DB
â”‚   â””â”€â”€ requirements.txt           # DependÃªncias Python
â”œâ”€â”€ ğŸ“ src/                        # Frontend React
â”‚   â”œâ”€â”€ ğŸ“ components/             # Componentes reutilizÃ¡veis
â”‚   â”‚   â”œâ”€â”€ Header.jsx
â”‚   â”‚   â”œâ”€â”€ Sidebar.jsx
â”‚   â”‚   â””â”€â”€ ui/                    # Componentes UI
â”‚   â”œâ”€â”€ ğŸ“ pages/                  # PÃ¡ginas da aplicaÃ§Ã£o
â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx
â”‚   â”‚   â”œâ”€â”€ Menu.jsx
â”‚   â”‚   â”œâ”€â”€ Orders.jsx
â”‚   â”‚   â”œâ”€â”€ Tables.jsx
â”‚   â”‚   â””â”€â”€ ğŸ“ backoffice/         # Painel administrativo
â”‚   â”œâ”€â”€ ğŸ“ lib/                    # UtilitÃ¡rios e hooks
â”‚   â”‚   â”œâ”€â”€ useApi.js
â”‚   â”‚   â”œâ”€â”€ useSocket.js
â”‚   â”‚   â””â”€â”€ utils.js
â”‚   â”œâ”€â”€ ğŸ“ config/                 # ConfiguraÃ§Ãµes
â”‚   â”‚   â””â”€â”€ api.js
â”‚   â””â”€â”€ ğŸ“ __tests__/              # Testes unitÃ¡rios
â”œâ”€â”€ ğŸ“ cypress/                    # Testes E2E
â”‚   â””â”€â”€ ğŸ“ e2e/
â”œâ”€â”€ ğŸ“ public/                     # Arquivos estÃ¡ticos
â”œâ”€â”€ package.json                   # DependÃªncias Node.js
â”œâ”€â”€ vite.config.js                 # ConfiguraÃ§Ã£o Vite
â””â”€â”€ README.md                      # DocumentaÃ§Ã£o principal
</code></pre>

<hr />

<h1 id="api-documentation">ğŸ“š API Documentation</h1>

<h2 id="endpoints-principais">Endpoints Principais</h2>

<h3 id="clientes">Clientes</h3>

<pre><code>POST   /api/cliente              # Criar cliente
GET    /api/cliente/&lt;mesa&gt;       # Buscar por mesa
DELETE /api/cliente/&lt;id&gt;         # Remover cliente
</code></pre>

<h3 id="itens-do-menu">Itens do Menu</h3>

<pre><code>GET    /api/itens                # Listar todos
POST   /api/itens                # Criar item
GET    /api/itens/&lt;id&gt;           # Buscar por ID
PUT    /api/itens/&lt;id&gt;           # Atualizar item
DELETE /api/itens/&lt;id&gt;           # Remover item
</code></pre>

<h3 id="pedidos">Pedidos</h3>

<pre><code>POST   /api/pedidos              # Criar pedido
GET    /api/pedidos/&lt;id&gt;         # Buscar pedido
PUT    /api/pedidos/&lt;id&gt;/status  # Atualizar status
GET    /api/pedidos/cliente/&lt;id&gt; # Pedidos do cliente
</code></pre>

<h3 id="pagamentos">Pagamentos</h3>

<pre><code>POST   /api/pagamentos           # Criar pagamento
GET    /api/pagamentos/&lt;id&gt;      # Buscar pagamento
GET    /api/pagamentos/pedido/&lt;id&gt; # Pagamento do pedido
</code></pre>

<h2 id="documentacao-interativa">DocumentaÃ§Ã£o Interativa</h2>

<p>Acesse: <code>http://localhost:5001/apidocs</code></p>

<h2 id="exemplos-de-uso">Exemplos de Uso</h2>

<h3 id="criar-cliente">Criar Cliente</h3>

<pre><code>curl -X POST http://localhost:5001/api/cliente \
  -H "Content-Type: application/json" \
  -d '{"nome": "JoÃ£o Silva", "mesa": 1}'
</code></pre>

<h3 id="criar-pedido">Criar Pedido</h3>

<pre><code>curl -X POST http://localhost:5001/api/pedidos \
  -H "Content-Type: application/json" \
  -d '{
    "cliente_id": 1,
    "itens": [
      {"item_id": 1, "quantidade": 2},
      {"item_id": 3, "quantidade": 1}
    ]
  }'
</code></pre>

<h3 id="fazer-pagamento">Fazer Pagamento</h3>

<pre><code>curl -X POST http://localhost:5001/api/pagamentos \
  -H "Content-Type: application/json" \
  -d '{
    "pedido_id": 1,
    "metodo": "CartÃ£o de CrÃ©dito",
    "valor": 38.30
  }'
</code></pre>

<hr />

<h1 id="fluxo-de-funcionamento">ğŸ”„ Fluxo de Funcionamento</h1>

<h2 id="fluxo-do-cliente">Fluxo do Cliente</h2>

<pre><code>graph TD
    A[Cliente acessa PWA] --&gt; B[IdentificaÃ§Ã£o]
    B --&gt; C[Seleciona mesa]
    C --&gt; D[Visualiza cardÃ¡pio]
    D --&gt; E[Adiciona itens ao carrinho]
    E --&gt; F[Confirma pedido]
    F --&gt; G[Escolhe forma de pagamento]
    G --&gt; H[Finaliza pagamento]
    H --&gt; I[Mesa liberada]
</code></pre>

<h2 id="fluxo-do-estabelecimento">Fluxo do Estabelecimento</h2>

<pre><code>graph TD
    A[FuncionÃ¡rio acessa backoffice] --&gt; B[Visualiza pedidos]
    B --&gt; C[Atualiza status]
    C --&gt; D[Prepara pedido]
    D --&gt; E[Entrega ao cliente]
    E --&gt; F[Confirma entrega]
    F --&gt; G[Gera relatÃ³rios]
</code></pre>

<h2 id="fluxo-de-pagamento">Fluxo de Pagamento</h2>

<pre><code>graph TD
    A[Cliente finaliza pedido] --&gt; B[Escolhe mÃ©todo]
    B --&gt; C{Dinheiro?}
    C --&gt;|Sim| D[Calcula troco]
    C --&gt;|NÃ£o| E[Processa cartÃ£o/PIX]
    D --&gt; F[Confirma pagamento]
    E --&gt; F
    F --&gt; G[Atualiza status]
    G --&gt; H[Libera mesa]
</code></pre>

<hr />

<h1 id="funcionalidades">âš¡ Funcionalidades</h1>

<h2 id="funcionalidades-do-cliente">Funcionalidades do Cliente</h2>

<ul>
<li>âœ… <strong>IdentificaÃ§Ã£o</strong>: Nome e seleÃ§Ã£o de mesa</li>
<li>âœ… <strong>CardÃ¡pio Digital</strong>: VisualizaÃ§Ã£o de itens e preÃ§os</li>
<li>âœ… <strong>Carrinho Interativo</strong>: Adicionar/remover itens</li>
<li>âœ… <strong>Pedidos</strong>: ConfirmaÃ§Ã£o e acompanhamento</li>
<li>âœ… <strong>Pagamentos</strong>: MÃºltiplas formas de pagamento</li>
<li>âœ… <strong>PWA</strong>: InstalaÃ§Ã£o como app</li>
</ul>

<h2 id="funcionalidades-do-estabelecimento">Funcionalidades do Estabelecimento</h2>

<ul>
<li>âœ… <strong>Dashboard</strong>: VisÃ£o geral do negÃ³cio</li>
<li>âœ… <strong>GestÃ£o de Pedidos</strong>: Acompanhamento em tempo real</li>
<li>âœ… <strong>GestÃ£o de Mesas</strong>: Controle de ocupaÃ§Ã£o</li>
<li>âœ… <strong>GestÃ£o do CardÃ¡pio</strong>: CRUD completo de itens</li>
<li>âœ… <strong>RelatÃ³rios</strong>: AnÃ¡lises de vendas</li>
<li>âœ… <strong>ConfiguraÃ§Ãµes</strong>: PersonalizaÃ§Ã£o do sistema</li>
</ul>

<h2 id="funcionalidades-tecnicas">Funcionalidades TÃ©cnicas</h2>

<ul>
<li>âœ… <strong>API RESTful</strong>: Endpoints bem documentados</li>
<li>âœ… <strong>WebSocket</strong>: AtualizaÃ§Ãµes em tempo real</li>
<li>âœ… <strong>Responsive Design</strong>: Funciona em mobile e desktop</li>
<li>âœ… <strong>PWA Features</strong>: Offline, push notifications</li>
<li>âœ… <strong>Testes Automatizados</strong>: Cobertura de 70%+</li>
<li>âœ… <strong>DocumentaÃ§Ã£o Swagger</strong>: API interativa</li>
</ul>

<hr />

<h1 id="testes-automatizados">ğŸ§ª Testes Automatizados</h1>

<h2 id="testes-do-backend">Testes do Backend</h2>

<pre><code># Executar todos os testes
cd backend
pytest --cov=.

# Executar testes especÃ­ficos
pytest tests/test_orders.py
pytest tests/test_menu.py

# Ver cobertura detalhada
pytest --cov=. --cov-report=html
</code></pre>

<h2 id="testes-do-frontend">Testes do Frontend</h2>

<pre><code># Testes unitÃ¡rios
npm run test

# Testes com cobertura
npm run test:coverage

# Testes E2E (Cypress)
npx cypress open
npx cypress run
</code></pre>

<h2 id="cobertura-de-testes">Cobertura de Testes</h2>

<ul>
<li><strong>Backend</strong>: ~70% de cobertura</li>
<li><strong>Frontend</strong>: Testes unitÃ¡rios + E2E</li>
<li><strong>API</strong>: Todos os endpoints testados</li>
<li><strong>UI</strong>: Componentes e pÃ¡ginas testados</li>
</ul>

<h2 id="estrutura-dos-testes">Estrutura dos Testes</h2>

<h3 id="backend-pytest">Backend (Pytest)</h3>

<pre><code>backend/tests/
â”œâ”€â”€ conftest.py           # ConfiguraÃ§Ã£o pytest
â”œâ”€â”€ test_auth.py          # Testes de autenticaÃ§Ã£o
â”œâ”€â”€ test_menu.py          # Testes do menu
â”œâ”€â”€ test_orders.py        # Testes de pedidos
â”œâ”€â”€ test_payments.py      # Testes de pagamentos
â”œâ”€â”€ test_routes.py        # Testes de rotas
â””â”€â”€ test_tables.py        # Testes de mesas
</code></pre>

<h3 id="frontend-vitest-cypress">Frontend (Vitest + Cypress)</h3>

<pre><code>src/__tests__/
â”œâ”€â”€ App.test.jsx
â”œâ”€â”€ Badge.test.jsx
â”œâ”€â”€ Button.test.jsx
â”œâ”€â”€ Menu.test.jsx
â”œâ”€â”€ Notification.test.jsx
â”œâ”€â”€ Orders.test.jsx
â”œâ”€â”€ Sidebar.test.jsx
â”œâ”€â”€ Tables.test.jsx
â”œâ”€â”€ useApi.test.jsx
â”œâ”€â”€ useLoading.test.jsx
â””â”€â”€ useSocket.test.jsx

cypress/
â”œâ”€â”€ cypress.config.js
â”œâ”€â”€ e2e/
â”‚   â””â”€â”€ home.cy.js
â””â”€â”€ fixtures/
    â””â”€â”€ example.json
</code></pre>

<hr />

<h1 id="deploy-e-manutencao">ğŸš€ Deploy e ManutenÃ§Ã£o</h1>

<h2 id="deploy-local">Deploy Local</h2>

<pre><code># Backend
cd backend
python3 app.py

# Frontend
npm run dev
</code></pre>

<h2 id="deploy-em-producao">Deploy em ProduÃ§Ã£o</h2>

<h3 id="backend-herokurailway">Backend (Heroku/Railway)</h3>

<pre><code># Criar Procfile
echo "web: python app.py" &gt; Procfile

# Configurar variÃ¡veis de ambiente
export DATABASE_URL=postgresql://...
export FLASK_ENV=production

# Deploy
git push heroku main
</code></pre>

<h3 id="frontend-vercelnetlify">Frontend (Vercel/Netlify)</h3>

<pre><code># Build para produÃ§Ã£o
npm run build

# Deploy
vercel --prod
</code></pre>

<h2 id="docker-opcional">Docker (Opcional)</h2>

<pre><code># Dockerfile para Backend
FROM python:3.9-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
EXPOSE 5001
CMD ["python", "app.py"]
</code></pre>

<h2 id="monitoramento">Monitoramento</h2>

<ul>
<li><strong>Logs</strong>: Verificar logs do backend</li>
<li><strong>Performance</strong>: Monitorar tempo de resposta</li>
<li><strong>Erros</strong>: Acompanhar erros da API</li>
<li><strong>Uso</strong>: MÃ©tricas de utilizaÃ§Ã£o</li>
</ul>

<h2 id="atualizacoes">AtualizaÃ§Ãµes</h2>

<pre><code># Atualizar dependÃªncias
pip install -r requirements.txt --upgrade
npm update

# Verificar seguranÃ§a
npm audit
pip-audit

# Testes apÃ³s atualizaÃ§Ã£o
pytest --cov=.
npm run test
</code></pre>

<h2 id="backup">Backup</h2>

<pre><code># Backup do banco
cp comandas.db backup_$(date +%Y%m%d).db

# Backup do cÃ³digo
git push origin main
</code></pre>

<hr />

<h1 id="documentacao-tecnica">ğŸ”§ DocumentaÃ§Ã£o TÃ©cnica</h1>

<h2 id="modelos-de-dados">Modelos de Dados</h2>

<h3 id="schema-do-banco">Schema do Banco</h3>

<h4 id="tabela-clientes">Tabela: <code>clientes</code></h4>

<pre><code>CREATE TABLE clientes (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    nome VARCHAR(100) NOT NULL,
    mesa INTEGER NOT NULL,
    data_criacao TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    ativo BOOLEAN DEFAULT 1
);
</code></pre>

<h4 id="tabela-itens">Tabela: <code>itens</code></h4>

<pre><code>CREATE TABLE itens (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    nome VARCHAR(100) NOT NULL,
    descricao TEXT,
    preco DECIMAL(10,2) NOT NULL,
    categoria VARCHAR(50) DEFAULT 'PadrÃ£o',
    disponivel BOOLEAN DEFAULT 1
);
</code></pre>

<h4 id="tabela-pedidos">Tabela: <code>pedidos</code></h4>

<pre><code>CREATE TABLE pedidos (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    cliente_id INTEGER NOT NULL,
    status VARCHAR(20) DEFAULT 'Pendente',
    total DECIMAL(10,2) DEFAULT 0,
    data_criacao TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    data_atualizacao TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (cliente_id) REFERENCES clientes(id)
);
</code></pre>

<h4 id="tabela-pedido_item">Tabela: <code>pedido_item</code></h4>

<pre><code>CREATE TABLE pedido_item (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    pedido_id INTEGER NOT NULL,
    item_id INTEGER NOT NULL,
    quantidade INTEGER NOT NULL,
    preco_unitario DECIMAL(10,2) NOT NULL,
    FOREIGN KEY (pedido_id) REFERENCES pedidos(id),
    FOREIGN KEY (item_id) REFERENCES itens(id)
);
</code></pre>

<h4 id="tabela-pagamentos">Tabela: <code>pagamentos</code></h4>

<pre><code>CREATE TABLE pagamentos (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    pedido_id INTEGER NOT NULL,
    metodo VARCHAR(50) NOT NULL,
    valor DECIMAL(10,2) NOT NULL,
    data_pagamento TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (pedido_id) REFERENCES pedidos(id)
);
</code></pre>

<h2 id="componentes-frontend">Componentes Frontend</h2>

<h3 id="estrutura-de-componentes">Estrutura de Componentes</h3>

<pre><code>src/components/
â”œâ”€â”€ Header.jsx              # Header principal
â”œâ”€â”€ Sidebar.jsx             # Menu lateral
â”œâ”€â”€ MenuItemForm.jsx        # FormulÃ¡rio de itens
â”œâ”€â”€ Layout/
â”‚   â””â”€â”€ Layout.jsx          # Layout base
â”œâ”€â”€ PaymentManagement/
â”‚   â””â”€â”€ PaymentManagement.jsx # GestÃ£o de pagamentos
â””â”€â”€ ui/                     # Componentes UI bÃ¡sicos
    â”œâ”€â”€ badge.jsx
    â”œâ”€â”€ button.jsx
    â”œâ”€â”€ card.jsx
    â”œâ”€â”€ input.jsx
    â”œâ”€â”€ label.jsx
    â”œâ”€â”€ Notification.jsx
    â””â”€â”€ textarea.jsx
</code></pre>

<h2 id="hooks-customizados">Hooks Customizados</h2>

<h3 id="useapi-hook">useApi Hook</h3>

<pre><code>// src/lib/useApi.js
import { useState, useEffect } from 'react';

const API_BASE_URL = 'http://localhost:5001/api';

export const useApi = () =&gt; {
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);

  const request = async (endpoint, options = {}) =&gt; {
    setLoading(true);
    setError(null);

    try {
      const response = await fetch(`${API_BASE_URL}${endpoint}`, {
        headers: {
          'Content-Type': 'application/json',
          ...options.headers,
        },
        ...options,
      });

      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }

      const data = await response.json();
      return data;
    } catch (err) {
      setError(err.message);
      throw err;
    } finally {
      setLoading(false);
    }
  };

  return {
    loading,
    error,
    get: (endpoint) =&gt; request(endpoint),
    post: (endpoint, data) =&gt; request(endpoint, {
      method: 'POST',
      body: JSON.stringify(data),
    }),
    put: (endpoint, data) =&gt; request(endpoint, {
      method: 'PUT',
      body: JSON.stringify(data),
    }),
    del: (endpoint) =&gt; request(endpoint, { method: 'DELETE' }),
  };
};
</code></pre>

<h2 id="configuracao-de-ambiente">ConfiguraÃ§Ã£o de Ambiente</h2>

<h3 id="variaveis-de-ambiente">VariÃ¡veis de Ambiente</h3>

<h4 id="backend-env">Backend (.env)</h4>

<pre><code>FLASK_ENV=development
FLASK_DEBUG=1
DATABASE_URL=sqlite:///comandas.db
SECRET_KEY=your-secret-key-here
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173
</code></pre>

<h4 id="frontend-env">Frontend (.env)</h4>

<pre><code>VITE_API_URL=http://localhost:5001
VITE_SOCKET_URL=http://localhost:5001
VITE_APP_NAME=Sistema de Comandas
</code></pre>

<h3 id="dependencias">DependÃªncias</h3>

<h4 id="requirementstxt">requirements.txt</h4>

<pre><code>Flask==2.3.3
Flask-SQLAlchemy==3.0.5
Flask-CORS==4.0.0
Flasgger==0.9.7.1
Flask-SocketIO==5.3.6
python-socketio==5.8.0
python-engineio==4.7.1
pytest==7.4.0
pytest-cov==4.1.0
</code></pre>

<h4 id="packagejson">package.json</h4>

<pre><code>{
  "name": "pwa-comandas",
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "test": "vitest",
    "test:coverage": "vitest --coverage",
    "lint": "eslint . --ext js,jsx --report-unused-disable-directives --max-warnings 0"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.8.1",
    "socket.io-client": "^4.6.1",
    "lucide-react": "^0.263.1",
    "clsx": "^2.0.0",
    "tailwind-merge": "^1.14.0"
  }
}
</code></pre>

<hr />

<h1 id="faq-e-suporte">â“ FAQ e Suporte</h1>

<h2 id="perguntas-frequentes">Perguntas Frequentes</h2>

<h3 id="como-adicionar-novos-itens-ao-cardapio">Como adicionar novos itens ao cardÃ¡pio?</h3>

<ol>
<li>Acesse o backoffice: <code>http://localhost:5173/backoffice/menu</code></li>
<li>Clique em "Adicionar Item"</li>
<li>Preencha nome, descriÃ§Ã£o e preÃ§o</li>
<li>Salve o item</li>
</ol>

<h3 id="como-liberar-uma-mesa-apos-pagamento">Como liberar uma mesa apÃ³s pagamento?</h3>

<ul>
<li>A mesa Ã© liberada automaticamente apÃ³s o pagamento</li>
<li>O cliente e pedido permanecem no histÃ³rico</li>
<li>NÃ£o Ã© possÃ­vel remover clientes com pedidos ativos</li>
</ul>

<h3 id="como-configurar-formas-de-pagamento">Como configurar formas de pagamento?</h3>

<ul>
<li>O sistema suporta: Dinheiro, CartÃ£o de CrÃ©dito, CartÃ£o de DÃ©bito, PIX</li>
<li>Para adicionar novas formas, edite o cÃ³digo em <code>src/pages/Orders.jsx</code></li>
</ul>

<h3 id="como-gerar-relatorios">Como gerar relatÃ³rios?</h3>

<ol>
<li>Acesse: <code>http://localhost:5173/backoffice/reports</code></li>
<li>Selecione perÃ­odo desejado</li>
<li>Visualize relatÃ³rios de vendas</li>
</ol>

<h3 id="como-resolver-problemas-de-cors">Como resolver problemas de CORS?</h3>

<ul>
<li>O backend jÃ¡ estÃ¡ configurado com CORS</li>
<li>Verifique se ambos os servidores estÃ£o rodando</li>
<li>Confirme as URLs nas configuraÃ§Ãµes</li>
</ul>

<h3 id="como-testar-o-sistema">Como testar o sistema?</h3>

<pre><code># Backend
pytest --cov=.

# Frontend
npm run test
npm run test:coverage

# E2E
npx cypress run
</code></pre>

<h2 id="problemas-comuns">Problemas Comuns</h2>

<h3 id="backend-nao-inicia">Backend nÃ£o inicia</h3>

<pre><code># Verificar porta
lsof -ti:5001 | xargs kill -9

# Reinstalar dependÃªncias
pip install -r requirements.txt
</code></pre>

<h3 id="frontend-nao-carrega">Frontend nÃ£o carrega</h3>

<pre><code># Verificar porta
lsof -ti:5173 | xargs kill -9

# Reinstalar dependÃªncias
npm install
</code></pre>

<h3 id="erro-de-modulo-nao-encontrado">Erro de mÃ³dulo nÃ£o encontrado</h3>

<pre><code># Instalar dependÃªncias Python
python3 -m pip install flasgger

# Verificar ambiente virtual
source venv/bin/activate
</code></pre>

<h2 id="contato">Contato</h2>

<ul>
<li><strong>RepositÃ³rio</strong>: <a href="https://github.com/PedroACarvalho/PWA-para-c-lculo-e-pagamento-de-comandas">GitHub</a></li>
<li><strong>Issues</strong>: Reporte problemas no GitHub</li>
<li><strong>DocumentaÃ§Ã£o</strong>: <a href="./README.md">README.md</a></li>
</ul>

<hr />

<h1 id="anexos">ğŸ“ Anexos</h1>

<h2 id="changelog">Changelog</h2>

<h3 id="v100-2024-07-27">v1.0.0 (2024-07-27)</h3>

<ul>
<li>âœ… Sistema completo funcional</li>
<li>âœ… PWA com todas as funcionalidades</li>
<li>âœ… API RESTful documentada</li>
<li>âœ… Testes automatizados</li>
<li>âœ… Interface responsiva</li>
<li>âœ… GestÃ£o completa de pedidos e pagamentos</li>
</ul>

<h2 id="licenca">LicenÃ§a</h2>

<p>Este projeto foi desenvolvido como parte de um TCC (Trabalho de ConclusÃ£o de Curso).</p>

<h2 id="recursos-adicionais">Recursos Adicionais</h2>

<h3 id="links-uteis">Links Ãšteis</h3>

<ul>
<li><strong>DocumentaÃ§Ã£o Flask</strong>: https://flask.palletsprojects.com/</li>
<li><strong>DocumentaÃ§Ã£o React</strong>: https://react.dev/</li>
<li><strong>DocumentaÃ§Ã£o Tailwind</strong>: https://tailwindcss.com/docs</li>
<li><strong>DocumentaÃ§Ã£o Vite</strong>: https://vitejs.dev/</li>
<li><strong>DocumentaÃ§Ã£o Pytest</strong>: https://docs.pytest.org/</li>
<li><strong>DocumentaÃ§Ã£o Vitest</strong>: https://vitest.dev/</li>
</ul>

<h3 id="livros-recomendados">Livros Recomendados</h3>

<ul>
<li>"Clean Code" - Robert C. Martin</li>
<li>"Test-Driven Development" - Kent Beck</li>
<li>"React Design Patterns" - Alex Banks &amp; Eve Porcello</li>
<li>"Flask Web Development" - Miguel Grinberg</li>
</ul>

<hr />

<p><strong>ğŸ‰ Sistema 100% Funcional e Documentado!</strong></p>

<p><em>Esta documentaÃ§Ã£o fornece todos os detalhes necessÃ¡rios para entender, instalar, configurar e manter o Sistema de Comandas Online.</em></p>

<p><em>Ãšltima atualizaÃ§Ã£o: 27/07/2024</em></p>

        </div>
        
        <div class="footer">
            <p>ğŸ‰ Sistema 100% Funcional e Documentado!</p>
            <p>Esta documentaÃ§Ã£o fornece todos os detalhes necessÃ¡rios para entender, instalar, configurar e manter o Sistema de Comandas Online.</p>
            <p><strong>Ãšltima atualizaÃ§Ã£o:</strong> 07/08/2025 18:32:36</p>
        </div>
    </body>
    </html>
    